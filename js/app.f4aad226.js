(function(){var t={6700:function(t,e,i){var s={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":6714,"./dv.js":6714,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":7599,"./sv.js":7599,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function a(t){var e=n(t);return i(e)}function n(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id=6700},7799:function(t,e,i){"use strict";var s=i(6369),a=i(8499),n=i.n(a),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},o=[],l=i(1001),c={},d=(0,l.Z)(c,r,o,!1,null,null,null),h=d.exports,p=i(2631),m=(i(7658),function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],staticClass:"main-container"},[e("div",{staticClass:"flex-row box-top"},[t._m(0),e("div",{staticClass:"flex-1 top-main"},[e("div",{staticStyle:{display:"flex"}},[t._v(" 主体图 ")]),e("div",{staticStyle:{"overflow-x":"auto",display:"flex"}},t._l(t.spuInfo.zhuti,(function(i,s){return e("div",{key:s,staticStyle:{position:"relative"}},[e("pop-img",{staticStyle:{margin:"8px"},attrs:{src:`${i}?x-oss-process=image/resize,m_pad,w_100,h_100`,bigsrc:i,width:"80px",position:"right"},on:{pictureClick:function(e){return t.pictureClick_zhuti(i)}}})],1)})),0)])]),e("div",{directives:[{name:"sm-table-height-adaptive",rawName:"v-sm-table-height-adaptive",value:{bottomOffset:15},expression:"{bottomOffset: 15}"}],staticClass:"flex-row box-content"},[e("div",{staticClass:"content-aside",staticStyle:{height:"100%"}},[e("p",{staticStyle:{color:"#409EFF","font-weight":"bold","font-size":"15px"}},[t._v("素材库")]),e("div",{staticStyle:{margin:"10px 0"}},[e("el-radio-group",{attrs:{size:"mini"},model:{value:t.selectType,callback:function(e){t.selectType=e},expression:"selectType"}},[e("el-radio-button",{attrs:{label:"图库"}}),e("el-radio-button",{attrs:{label:"上传"}}),e("el-radio-button",{attrs:{label:"渐变"}}),e("el-radio-button",{attrs:{label:"纯色"}}),e("el-radio-button",{attrs:{label:"文字"}}),e("el-radio-button",{attrs:{label:"前景"}})],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"图库"===t.selectType,expression:"selectType==='图库'"}],staticStyle:{height:"100%"}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"},{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.getMorePicture,expression:"getMorePicture"}],staticStyle:{margin:"20px 0","overflow-y":"auto",height:"80%",display:"flex","flex-wrap":"wrap","align-content":"flex-start"}},[t._l(t.pictureData,(function(i,s){return e("div",{key:s,staticStyle:{position:"relative"}},[e("pop-img",{staticStyle:{margin:"5px"},attrs:{src:i,width:"70px"},on:{pictureClick:function(e){return t.pictureClick(i)}}})],1)})),t.moreLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.moreLoading,expression:"moreLoading"}],staticStyle:{height:"45px",width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"transparent"}}):t._e()],2)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"纯色"===t.selectType,expression:"selectType==='纯色'"}],staticClass:"block",staticStyle:{height:"100%"}},[e("p",[t._v("色板")]),e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.color2,callback:function(e){t.color2=e},expression:"color2"}}),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.frontLoading,expression:"frontLoading"}],staticStyle:{margin:"20px 0","overflow-y":"auto",height:"80%"}},[t._l(1,(function(i,s){return e("div",{key:s+"纯色图1",staticStyle:{"margin-bottom":"10px"}},[e("p",[t._v("纯色图1")]),e("div",{staticStyle:{"overflow-x":"auto",display:"flex"}},t._l(t.purePictureData,(function(i,s){return e("div",{key:s,staticStyle:{position:"relative"}},[e("pop-img",{staticStyle:{margin:"8px"},attrs:{src:i,width:"80px"},on:{pictureClick:function(e){return t.purePictureClick(i)}}})],1)})),0)])})),t._l(1,(function(i,s){return e("div",{key:s+"纯色图2",staticStyle:{"margin-bottom":"10px"}},[e("p",[t._v("纯色图2")]),e("div",{staticStyle:{"overflow-x":"auto",display:"flex"}},t._l(t.texturePictureData,(function(i,s){return e("div",{key:s+i,staticStyle:{position:"relative"}},[e("pop-img",{staticStyle:{margin:"8px"},attrs:{src:i,width:"80px"},on:{pictureClick:function(e){return t.purePictureClick(i)}}})],1)})),0)])})),t.moreFrontLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.moreFrontLoading,expression:"moreFrontLoading"}],staticStyle:{height:"45px",width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"transparent"}}):t._e()],2)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"渐变"===t.selectType,expression:"selectType==='渐变'"}],staticClass:"block",staticStyle:{height:"100%"}},[e("p",[t._v("渐变")]),e("div",{staticStyle:{display:"flex","margin-top":"10px"}},[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addGradient}},[t._v("新增渐变")])],1),e("div",{staticStyle:{margin:"20px 0","overflow-y":"auto",height:"80%"}},[e("div",[e("div",{staticClass:"fontStyleTitle"},[t._v("渐变类型")]),e("div",[e("el-radio-group",{model:{value:t.gradientForm.gType,callback:function(e){t.$set(t.gradientForm,"gType",e)},expression:"gradientForm.gType"}},[e("el-radio-button",{attrs:{label:"linear"}},[t._v("线性")]),e("el-radio-button",{attrs:{label:"radial"}},[t._v("径向")])],1)],1)]),e("div",[e("div",{staticClass:"fontStyleTitle"},[t._v("颜色组")]),e("div",t._l(t.gradientForm.colorStops,(function(i,s){return e("div",{key:s,staticStyle:{width:"100%",display:"flex","align-items":"center"}},[e("el-slider",{staticStyle:{flex:"1",margin:"0 10px"},attrs:{min:0,max:1,step:.01},model:{value:i.offset,callback:function(e){t.$set(i,"offset",e)},expression:"ele.offset"}}),e("el-color-picker",{attrs:{"show-alpha":"",size:"small"},model:{value:i.color,callback:function(e){t.$set(i,"color",e)},expression:"ele.color"}}),e("i",{staticClass:"el-icon-plus",on:{click:function(e){t.gradientForm.colorStops.push({offset:1,color:"rgba(255, 255, 255, 1)"})}}}),t.gradientForm.colorStops.length>1?e("i",{staticClass:"el-icon-minus",on:{click:function(e){return t.gradientForm.colorStops.splice(s,1)}}}):t._e()],1)})),0)])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"前景"===t.selectType,expression:"selectType==='前景'"}],staticStyle:{height:"100%"}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.frontLoading,expression:"frontLoading"}],staticStyle:{margin:"20px 0","overflow-y":"auto",height:"80%"}},[t._l(1,(function(i,s){return e("div",{key:s,staticStyle:{"margin-bottom":"10px"}},[e("p",[t._v("透明图")]),e("div",{staticStyle:{"overflow-x":"auto",display:"flex"}},t._l(t.frontPictureData,(function(i,s){return e("div",{key:s,staticStyle:{position:"relative"}},[e("pop-img",{staticStyle:{margin:"8px"},attrs:{src:i,width:"80px"},on:{pictureClick:function(e){return t.frontPictureClick(i)}}})],1)})),0)])})),t.moreFrontLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.moreFrontLoading,expression:"moreFrontLoading"}],staticStyle:{height:"45px",width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"transparent"}}):t._e()],2)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"文字"===t.selectType,expression:"selectType==='文字'"}],staticStyle:{height:"100%"}},[e("div",{staticStyle:{display:"flex","margin-top":"10px"}},[e("el-input",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请输入文字",size:"mini"},model:{value:t.fontValue,callback:function(e){t.fontValue=e},expression:"fontValue"}}),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addFont}},[t._v("添加")])],1),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.frontLoading,expression:"frontLoading"}],staticStyle:{margin:"20px 0","overflow-y":"auto",height:"80%"}},[e("div",[e("div",{staticClass:"fontStyleTitle"},[t._v("字体")]),e("div",{staticClass:"fontStyle"},[e("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.fontForm.fontFamily,callback:function(e){t.$set(t.fontForm,"fontFamily",e)},expression:"fontForm.fontFamily"}},t._l(t.browserSecurityFonts,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)]),e("div",[e("div",{staticClass:"fontStyleTitle"},[t._v("样式")]),e("div",{staticClass:"_fontStyle"},[e("el-select",{staticStyle:{width:"60px"},attrs:{title:"字号",placeholder:"请选择",size:"mini"},model:{value:t.fontForm.fontSize,callback:function(e){t.$set(t.fontForm,"fontSize",e)},expression:"fontForm.fontSize"}},t._l(100,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1),e("div",{staticClass:"fontStyleBtn",staticStyle:{height:"28px",padding:"0",display:"flex","justify-content":"center","align-items":"center"},attrs:{title:"字体颜色"}},[e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.fontForm.fill,callback:function(e){t.$set(t.fontForm,"fill",e)},expression:"fontForm.fill"}})],1),e("div",{staticClass:"fontStyleBtn",attrs:{title:"加粗"},on:{click:t.boldFont}},[e("img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:i(6619)}})]),e("div",{staticClass:"fontStyleBtn",attrs:{title:"倾斜"},on:{click:t.italicFont}},[e("img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:i(1136)}})]),e("div",{staticClass:"fontStyleBtn",attrs:{title:"下划线"},on:{click:function(e){t.fontForm.underline=!t.fontForm.underline}}},[e("img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:i(9770)}})])],1)]),e("div",[e("div",{staticClass:"fontStyleTitle"},[t._v("位置")]),e("div",{staticClass:"_fontStyle"},[e("div",{staticClass:"fontStyleBtn",attrs:{title:"左对齐"},on:{click:function(e){t.fontForm.textAlign="left"}}},["left"===t.fontForm.textAlign?e("img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:i(9862)}}):e("img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:i(505)}})]),e("div",{staticClass:"fontStyleBtn",attrs:{title:"居中对齐"},on:{click:function(e){t.fontForm.textAlign="center"}}},["center"===t.fontForm.textAlign?e("img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:i(7686)}}):e("img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:i(9187)}})]),e("div",{staticClass:"fontStyleBtn",attrs:{title:"右对齐"},on:{click:function(e){t.fontForm.textAlign="right"}}},["right"===t.fontForm.textAlign?e("img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:i(5337)}}):e("img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:i(9973)}})])])]),e("div",[e("div",{staticClass:"fontStyleTitle"},[t._v("底纹")]),e("el-color-picker",{staticClass:"fontStyle",attrs:{"show-alpha":""},model:{value:t.fontForm.backgroundColor,callback:function(e){t.$set(t.fontForm,"backgroundColor",e)},expression:"fontForm.backgroundColor"}})],1),e("div",[e("div",{staticClass:"fontStyleTitle"},[t._v("边距")]),e("div",{staticClass:"fontStyle"},[e("el-input-number",{staticStyle:{width:"70px"},attrs:{min:0,label:"边距",controls:!1,size:"small"},model:{value:t.fontForm.padding,callback:function(e){t.$set(t.fontForm,"padding",e)},expression:"fontForm.padding"}})],1)])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"上传"===t.selectType,expression:"selectType==='上传'"}],staticStyle:{height:"calc(100% - 100px)",display:"flex","flex-direction":"column"}},[e("el-upload",{ref:"uploadRef",staticClass:"upload-demo",attrs:{drag:"",multiple:"",action:"","before-upload":t.beforeAvatarUpload,"show-file-list":!1}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),e("div",{staticClass:"el-upload__text"},[t._v("支持扩展名：.png .jpg...")])]),e("div",{staticStyle:{margin:"20px 0","overflow-y":"auto",height:"80%",display:"flex","flex-wrap":"wrap","align-content":"flex-start"}},t._l(t.uploadFileList,(function(i,s){return e("div",{key:s,staticStyle:{position:"relative",width:"80px",height:"80px"}},[e("pop-img",{staticStyle:{margin:"5px"},attrs:{src:i,width:"70px"},on:{pictureClick:function(e){return t.frontPictureClick(i)}}})],1)})),0)],1)]),e("div",{staticClass:"flex-1 box-main",staticStyle:{height:"100%"}},[e("div",{staticClass:"flex-row",staticStyle:{height:"100%"}},[e("div",{staticClass:"flex-1 main-content",staticStyle:{"min-width":"250px"}},[e("img-editor",{ref:"imgEditor",attrs:{"main-img-url":t.mainImgUrl,"back-img-url":t.backImgUrl,"back-color":t.color2,"front-img-url":t.frontImgUrl,"font-form":t.fontForm,"gradient-form":t.gradientForm},on:{resultSrc:t.resultSrc,deleteImg:t.deleteImg,canvasEmptying:t.canvasEmptying,activeFontChange:t.activeFontChange,overrideGradient:t.overrideGradient}})],1),e("div",{staticClass:"box-aside",staticStyle:{display:"flex","flex-direction":"column"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("div",{staticStyle:{color:"#409EFF","font-weight":"bold","font-size":"15px","margin-right":"15px"}},[t._v("成品图库")]),e("el-button",{attrs:{type:"primary"},on:{click:t.downAll}},[t._v("下载全部图片")])],1),e("div",{staticStyle:{flex:"1",margin:"20px 0","overflow-y":"auto",height:"30%",display:"flex","flex-wrap":"wrap","align-content":"flex-start"}},t._l(t.finishedPictureData,(function(i,s){return e("div",{key:s,staticStyle:{position:"relative"}},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.finishSelectedList.includes(s),expression:"finishSelectedList.includes(index)"}],staticClass:"el-icon-success",staticStyle:{color:"#67C23A",position:"absolute",right:"0","font-size":"20px","z-index":"10"}}),e("pop-img",{staticStyle:{margin:"8px"},attrs:{position:"right",src:i,width:"70px"},on:{pictureClick:function(e){return t.finishPictureClick(s)}}})],1)})),0)])])])])])}),g=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"box-aside"},[e("div",{staticStyle:{padding:"0 15px",display:"flex","justify-content":"flex-start","align-items":"center"}},[e("img",{staticStyle:{height:"25px"},attrs:{src:i(2208)}}),e("span",{staticStyle:{"font-size":"25px","font-weight":"bold","margin-left":"15px"}},[t._v("图片合成工具")])]),e("div",{staticStyle:{padding:"0 15px",display:"flex","justify-content":"flex-start","align-items":"center"}},[e("span",{staticStyle:{"font-size":"20px"}},[t._v("作者：马建伟")])])])}],u=(i(2801),i(3408),i(4590),i(541),i(70)),f=i(6797),v=i.n(f),b={removeFromArray:(t,e)=>{var i=t.indexOf(e);i>-1&&t.splice(i,1)},clone:function(t){let e=null;if(t instanceof Array)e=t.concat();else if(t instanceof Function)e=t;else{e={};for(const i in t){const s=t[i];e[i]="object"===typeof s?this.clone(s):s}}return e},dataFormat:function(t,e){var i=e,s=["日","一","二","三","四","五","六"];return i=i.replace(/yyyy|YYYY/,t.getFullYear()),i=i.replace(/yy|YY/,t.getYear()%100>9?(t.getYear()%100).toString():"0"+t.getYear()%100),i=i.replace(/MM/,t.getMonth()>9?t.getMonth().toString():"0"+t.getMonth()),i=i.replace(/M/g,t.getMonth()),i=i.replace(/w|W/g,s[t.getDay()]),i=i.replace(/dd|DD/,t.getDate()>9?t.getDate().toString():"0"+t.getDate()),i=i.replace(/d|D/g,t.getDate()),i=i.replace(/hh|HH/,t.getHours()>9?t.getHours().toString():"0"+t.getHours()),i=i.replace(/h|H/g,t.getHours()),i=i.replace(/mm/,t.getMinutes()>9?t.getMinutes().toString():"0"+t.getMinutes()),i=i.replace(/m/g,t.getMinutes()),i=i.replace(/ss|SS/,t.getSeconds()>9?t.getSeconds().toString():"0"+t.getSeconds()),i=i.replace(/s|S/g,t.getSeconds()),i},uploadImg:function(t,e,i){u.ZP.get("https://pro.starmerx.com/file_server/oss/getToken/").then((s=>{var a=s.data,n=new FormData;n.append("key",a.dir+e),n.append("OSSAccessKeyId",a.accessid),n.append("policy",a.policy),n.append("Signature",a.signature),n.append("file",t),n.append("success_action_status",200);var r=a.host;setTimeout((()=>{i(r)}),1e3),u.ZP.post("https://starmerx.oss-cn-shanghai.aliyuncs.com",n,{headers:{"Content-Type":"application/form-data"}}).then((()=>{}))}))},uploadImgAsync(t,e){return new Promise((i=>{u.ZP.get("https://pro.starmerx.com/file_server/oss/getToken/").then((s=>{const a=s.data,n=new FormData;n.append("key",a.dir+e),n.append("OSSAccessKeyId",a.accessid),n.append("policy",a.policy),n.append("Signature",a.signature),n.append("file",t),n.append("success_action_status",200),u.ZP.post("https://starmerx.oss-cn-shanghai.aliyuncs.com",n,{headers:{"Content-Type":"application/form-data"}}).then((t=>{i({host:a.host,aliyunRes:t})}))}))}))},arrayDiff:function(t,e){const i=[];return t.map((t=>{e.includes(t)||i.push(t)})),i},getImageSize:function(t){return new Promise((e=>{const i=new Image;i.src=t,i.complete?e({width:i.width,height:i.height}):i.onload=()=>{e({width:i.width,height:i.height})}}))},getRandomFileName(t){const e=v()().unix(),i=_.random(1e7,99999999),s=t.substring(t.lastIndexOf("."),t.length);return`${e}${i}${s}`}},y=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","padding-bottom":"5px"}},[e("el-row",{staticStyle:{display:"flex","align-items":"center",padding:"5px 10px 0 10px"},attrs:{gutter:20}},[e("el-col",{attrs:{span:18}},[t._t("default")],2),e("el-col",{attrs:{span:6}},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.getResultImages}},[t._v("保存")]),e("el-button",{attrs:{size:"small"},on:{click:t.canvasClear}},[t._v("清空")])],1)],1),e("el-row",{staticStyle:{display:"flex","align-items":"center",padding:"0 10px 5px 10px",height:"43px"},attrs:{gutter:20}},[t.activeEle?e("el-col",{attrs:{span:5}},[t._v(" 当前图层："+t._s(t.activeEle.starmerxElementType)+" ")]):t._e(),e("el-col",{directives:[{name:"show",rawName:"v-show",value:t.activeEle,expression:"activeEle"}],attrs:{span:5}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[t._v(" 透明度："),e("el-slider",{staticStyle:{flex:"1"},on:{change:t.transparencyChange},model:{value:t.eleTransparency,callback:function(e){t.eleTransparency=e},expression:"eleTransparency"}})],1)]),e("el-col",{directives:[{name:"show",rawName:"v-show",value:t.activeEle,expression:"activeEle"}],attrs:{span:5}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[t._v(" 模糊："),e("el-slider",{staticStyle:{flex:"1"},on:{change:t.blurChange},model:{value:t.filterObj.blur,callback:function(e){t.$set(t.filterObj,"blur",e)},expression:"filterObj.blur"}})],1)]),e("el-col",{directives:[{name:"show",rawName:"v-show",value:t.activeEle,expression:"activeEle"}],attrs:{span:4}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[t._v(" 阴影： "),e("el-color-picker",{attrs:{"show-alpha":""},on:{change:t.shadowChange},model:{value:t.shadowObj.color,callback:function(e){t.$set(t.shadowObj,"color",e)},expression:"shadowObj.color"}}),e("el-popover",{attrs:{placement:"top",width:"200",trigger:"click"}},[t._v(" 阴影水平偏移量 "),e("el-slider",{attrs:{min:-2e3,max:2e3},on:{change:t.shadowChange},model:{value:t.shadowObj.offsetX,callback:function(e){t.$set(t.shadowObj,"offsetX",e)},expression:"shadowObj.offsetX"}}),t._v(" 阴影垂直偏移量 "),e("el-slider",{attrs:{min:-2e3,max:2e3},on:{change:t.shadowChange},model:{value:t.shadowObj.offsetY,callback:function(e){t.$set(t.shadowObj,"offsetY",e)},expression:"shadowObj.offsetY"}}),t._v(" 阴影模糊 "),e("el-slider",{attrs:{min:-2e3,max:2e3},on:{change:t.shadowChange},model:{value:t.shadowObj.blur,callback:function(e){t.$set(t.shadowObj,"blur",e)},expression:"shadowObj.blur"}}),e("i",{staticClass:"el-icon-s-help",staticStyle:{"font-size":"25px"},attrs:{slot:"reference"},slot:"reference"})],1)],1)])],1),t._m(0)],1)},x=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"canvas-box"},[e("canvas",{staticClass:"fabric-canvas",attrs:{id:"fabricCanvas"}})])}],w=i(4806),j=i.n(w),S=i(7968),C={props:{backImgUrl:{type:String,default:""},backColor:{type:String,default:""},mainImgUrl:{type:String,default:""},frontImgUrl:{type:String,default:""},fontForm:{type:Object,default:{}},gradientForm:{type:Object,default:{}}},data(){return{boxWidth:800,boxHeight:800,fabricCanvas:void 0,activeEle:void 0,boxScale:1,loading:!1,eleTransparency:100,filtersAttrList:["blur"],filterObj:{blur:0},shadowObj:{},canvasStrJson:void 0}},watch:{backImgUrl:{immediate:!0,handler(t){this.addBackImg()}},mainImgUrl:{immediate:!0,handler(t){this.addMainImage()}},backColor:{immediate:!0,handler(t){this.addBackColor()}},frontImgUrl:{immediate:!0,handler(t){this.addFrontImg()}},fontForm:{immediate:!0,deep:!0,handler(t){this.editFontStyle()}},gradientForm:{immediate:!0,deep:!0,handler(t){this.gradientChange()}}},mounted(){this.init()},methods:{init(){S.fabric.Object.prototype.set({cornerStyle:"circle",cornerColor:"#3880ff",cornerSize:12,borderColor:"rgba(0, 94, 224, 1)",transparentCorners:!1});const t={width:this.boxWidth,height:this.boxHeight,preserveObjectStacking:!0,fireRightClick:!1,stopContextMenu:!1,hoverCursor:"default",defaultCursor:"default",selection:!0};this.fabricCanvas=new S.fabric.Canvas("fabricCanvas",t),this.boxScale=this.boxWidth/this.boxHeight,this.resizeBox(),window.addEventListener("resize",j().throttle((()=>{this.resizeBox()}),300)),document.addEventListener("keydown",this.showkey),this.fabricCanvas.on({"mouse:down":t=>{this.hideGradientGuides(t),this.getSActiveEle()}}),document.addEventListener("mousedown",(t=>{const e=t&&t.target&&t.target.classList;e&&e.contains("fabric-canvas")||this.hideGradientGuides(t)})),this.addBackImg(),this.addMainImage(),this.addBackColor(),this.addFrontImg()},addGradient(){if(!this.fabricCanvas)return;this.deleteAssignElement("渐变参考线");const t=new S.fabric.Line([0,this.boxHeight/2,this.boxWidth,this.boxHeight/2],{stroke:"rgba(0, 128, 0, 1)",strokeWidth:10,starmerxElementType:"渐变参考线",visible:!0});t.setControlsVisibility({bl:!1,br:!1,mb:!1,ml:!0,mr:!0,mt:!1,tl:!1,tr:!1,mtr:!0}),t.bringToFront(),t.on({modified:t=>{this.gradientChange()},removed:t=>{this.deleteAssignElement("渐变背景")},selected:e=>{t.bringToFront()}}),this.fabricCanvas.add(t);const e=new S.fabric.Rect({width:800,height:800,left:0,top:0,starmerxElementType:"渐变背景"}),i={x1:0,y1:this.boxHeight/2,x2:this.boxWidth,y2:this.boxHeight/2},s={x1:(i.x1+i.x2)/2,y1:(i.y1+i.y2)/2,x2:(i.x1+i.x2)/2,y2:(i.y1+i.y2)/2,r1:0,r2:Math.sqrt(Math.pow(i.x1-i.x2,2)+Math.pow(i.y1-i.y2,2))},a=new S.fabric.Gradient({type:this.gradientForm.gType,gradientUnits:"pixels",coords:"linear"===this.gradientForm.gType?i:s,colorStops:j().uniqBy(this.gradientForm.colorStops,"offset").filter((t=>!!t.color))});e.set("fill",a),this.fabricCanvas.add(e),this.fabricCanvas.sendToBack(e)},gradientChange(){if(!this.fabricCanvas)return;const t=this.fabricCanvas.getObjects().find((t=>"渐变参考线"===t.starmerxElementType));if(!t)return;const e=t.getPointByOrigin("left","top"),i=t.getPointByOrigin("right","bottom");this.fabricCanvas.forEachObject((t=>{if("渐变背景"===t.starmerxElementType&&t.fill){const s=t.fill.toObject();s.type=this.gradientForm.gType;const a={x1:e.x,y1:e.y,x2:i.x,y2:i.y},n={x1:(a.x1+a.x2)/2,y1:(a.y1+a.y2)/2,x2:(a.x1+a.x2)/2,y2:(a.y1+a.y2)/2,r1:0,r2:Math.sqrt(Math.pow(a.x1-a.x2,2)+Math.pow(a.y1-a.y2,2))};s.coords="linear"===this.gradientForm.gType?a:n,s.colorStops=j().uniqBy(this.gradientForm.colorStops,"offset").filter((t=>!!t.color));const r=new S.fabric.Gradient(s);t.set("fill",r),this.fabricCanvas.renderAll()}}))},hideGradientGuides(t){const e=this.fabricCanvas.getObjects().find((t=>"渐变参考线"===t.starmerxElementType));if(!e)return;const i=t&&t.target&&t.target.starmerxElementType;["渐变背景","渐变参考线"].includes(i)?(e.set({visible:!0}),e.bringToFront()):(e.set({visible:!1}),this.activeEle&&"渐变参考线"===this.activeEle.starmerxElementType&&(this.fabricCanvas.discardActiveObject(),this.getSActiveEle())),this.fabricCanvas.renderAll()},resizeBox(){const t=document.body.clientWidth,e=document.body.clientHeight;if(this.fabricCanvas){const i=Math.max(t-910,100)/this.boxWidth,s=Math.max(e-380,100)/this.boxHeight,a=Math.min(i,s);this.fabricCanvas.setWidth(this.boxWidth*a),this.fabricCanvas.setHeight(this.boxHeight*a),this.fabricCanvas.setZoom(a)}},showkey(t){const e=t.keyCode;switch(e){case 46:this.getSActiveEle(),this.activeEle&&(this.activeEle.starmerxImageUrl&&this.$emit("deleteImg",this.activeEle.starmerxElementType,this.activeEle.starmerxImageUrl),this.fabricCanvas.remove(this.activeEle),this.getSActiveEle());break}},getSActiveEle(){if(this.activeEle=this.fabricCanvas&&this.fabricCanvas.getActiveObject(),this.activeEle){this.eleTransparency=100*this.activeEle.getObjectOpacity();const t=this.activeEle.filters&&this.activeEle.filters[this.filtersAttrList.findIndex((t=>"blur"===t))];this.filterObj.blur=t?100*t.blur:0,this.shadowObj=this.activeEle.shadow?this.activeEle.shadow.toObject():{},"文本"===this.activeEle.starmerxElementType&&this.$emit("activeFontChange",this.activeEle)}},transparencyChange(){this.activeEle=this.fabricCanvas.getActiveObject(),this.activeEle&&(this.activeEle.setOptions({opacity:this.eleTransparency/100}),this.fabricCanvas.renderAll())},blurChange(){if(this.activeEle=this.fabricCanvas.getActiveObject(),!this.activeEle)return;if(["渐变背景","渐变参考线","文本"].includes(this.activeEle.starmerxElementType))return void this.$message.warning("当前图层不能模糊");const t=this.filtersAttrList.findIndex((t=>"blur"===t));if(this.activeEle.filters&&this.activeEle.filters[t])this.applyFilterValue(t,"blur",this.filterObj.blur/100);else{const e=new S.fabric.Image.filters.Blur({blur:this.filterObj.blur/100});this.applyFilter(t,e)}},shadowChange(){this.activeEle=this.fabricCanvas.getActiveObject(),this.activeEle&&(this.activeEle.set({shadow:this.shadowObj}),this.fabricCanvas.renderAll())},applyFilterValue(t,e,i){const s=this.fabricCanvas,a=s.getActiveObject();a.filters[t][e]=i,a.applyFilters(),s.renderAll()},applyFilter(t,e){const i=this.fabricCanvas,s=i.getActiveObject();s.filters[t]=e,s.applyFilters(),i.renderAll()},addMainImage(){if(!this.mainImgUrl||!this.fabricCanvas)return;const t=this.fabricCanvas._objects.find((t=>t.starmerxImageUrl===this.mainImgUrl&&"主体图"===t.starmerxElementType));if(t)return t.bringToFront(),void this.fabricCanvas.setActiveObject(t);const e=this;this.addImage(this.mainImgUrl,(t=>{const i=t.width/t.height;let s=1;s=i>=e.boxScale?e.fabricCanvas.getHeight()/t.height:e.fabricCanvas.getWidth()/t.width,t.scale(s/this.fabricCanvas.getZoom()/2),t.left=90,t.top=90,t.set({starmerxElementType:"主体图"}),e.fabricCanvas.add(t),t.bringToFront(),e.fabricCanvas.setActiveObject(t)}))},addFrontImg(){if(!this.frontImgUrl||!this.fabricCanvas)return;const t=this.fabricCanvas._objects.find((t=>t.starmerxImageUrl===this.frontImgUrl&&"前景图"===t.starmerxElementType));if(t)return t.bringToFront(),void this.fabricCanvas.setActiveObject(t);const e=this;this.addImage(this.frontImgUrl,(t=>{const i=t.width/t.height;let s=1;s=i>=e.boxScale?e.fabricCanvas.getWidth()/t.width:e.fabricCanvas.getHeight()/t.height,t.scale(s/this.fabricCanvas.getZoom()/2),t.set({starmerxElementType:"前景图"}),e.fabricCanvas.add(t),t.bringToFront(),e.fabricCanvas.setActiveObject(t)}))},addBackImg(){if(!this.backImgUrl||!this.fabricCanvas)return;const t=this.fabricCanvas._objects.find((t=>t.starmerxImageUrl===this.backImgUrl&&"背景图"===t.starmerxElementType));if(t)return void this.fabricCanvas.setActiveObject(t);const e=this;this.addImage(this.backImgUrl,(t=>{const i=t.width/t.height;let s=1;s=i>=e.boxScale?e.fabricCanvas.getHeight()/t.height:e.fabricCanvas.getWidth()/t.width,t.scale(s/this.fabricCanvas.getZoom()),t.set({starmerxElementType:"背景图"});const a=this.fabricCanvas._objects.find((t=>"背景图"===t.starmerxElementType));a&&this.fabricCanvas.remove(a),e.fabricCanvas.add(t),e.fabricCanvas.sendToBack(t)}))},addBackColor(){if(!this.backColor||!this.fabricCanvas)return;const t=this.fabricCanvas;t.setBackgroundColor(this.backColor,t.renderAll.bind(t))},getResultImages(){this.fabricCanvas.renderAll();const t=this.fabricCanvas.toDataURL({format:"png",multiplier:1600/this.fabricCanvas.getWidth()});this.$emit("resultSrc",t)},setActiveElement(t){const e=this.fabricCanvas._objects.find((e=>e.starmerxElementType===t));e&&(e.bringToFront(),this.fabricCanvas.setActiveObject(e))},deleteAssignElement(t){const e=this.fabricCanvas._objects.find((e=>e.starmerxElementType===t));e&&this.fabricCanvas.remove(e)},addImage(t,e){const i=new Image;i.crossOrigin="Anonymous",this.loading=!0,i.onload=()=>{this.loading=!1;const s=new S.fabric.Image(i);s.starmerxImageUrl=t,e(s)},i.src=t},canvasClear(){this.$emit("canvasEmptying"),this.fabricCanvas.clear(),this.getSActiveEle()},urlDataToBlob(t){const e=t.split(","),i=e[0].match(/:(.*?);/)[1],s=atob(e[1]);let a=s.length;const n=new Uint8Array(a);while(a--)n[a]=s.charCodeAt(a);return new Blob([n],{type:i})},uploadFile(t,e){const i=new FormData,s=new XMLHttpRequest;i.append("image",e),s.open("POST",t,!0),s.send(i)},addFont(t,e){const i=new S.fabric.IText(t,{left:100,top:100,...e});i.set({starmerxElementType:"文本"}),this.fabricCanvas.add(i),i.bringToFront(),this.fabricCanvas.setActiveObject(i),this.getSActiveEle()},editFontStyle(){this.activeEle&&"文本"===this.activeEle.starmerxElementType&&(this.activeEle.set(this.fontForm),this.fabricCanvas.renderAll())},saveDraft(){const t=this.fabricCanvas.toJSON(["starmerxElementType","starmerxImageUrl"]);this.canvasStrJson=JSON.stringify(t)},applyDraft(){this.canvasStrJson&&(this.canvasClear(),this.fabricCanvas.loadFromJSON(JSON.parse(this.canvasStrJson),(()=>{const t=this.fabricCanvas.getObjects().find((t=>"渐变参考线"===t.starmerxElementType));t&&(t.setControlsVisibility({bl:!1,br:!1,mb:!1,ml:!0,mr:!0,mt:!1,tl:!1,tr:!1,mtr:!0}),t.on({modified:t=>{this.gradientChange()},removed:t=>{this.deleteAssignElement("渐变背景")},selected:e=>{t.bringToFront()}}),this.overrideGradient())})))},overrideGradient(){const t=this.fabricCanvas.getObjects().find((t=>"渐变背景"===t.starmerxElementType));if(t){const{type:e,colorStops:i}=t.fill.toObject();this.$emit("overrideGradient",{gType:e,colorStops:i})}}}},k=C,F=(0,l.Z)(k,y,x,!1,null,"c4f42876",null),P=F.exports,E=function(){var t=this,e=t._self._c;return t.src?e("div",{staticClass:"pop-img-warp pop-img"},[e("el-image",{staticClass:"thumb",style:{width:t.width,height:t.width},attrs:{src:t.src,alt:t.alt,lazy:""},on:{mouseenter:t.startImgPreview,mouseleave:t.stopImgPreview,mousemove:t.watchMouseLocation,click:t.pictureClick}},[e("div",{staticClass:"image-slot pictureLoading",attrs:{slot:"placeholder"},slot:"placeholder"},[e("span",{staticClass:"dot pictureLoadingSpan",style:`line-height:${t.width};`},[t._v("加载中...")])])]),t.isPreview&&"left"===t.position?e("img",{staticClass:"lg-img-preview",style:{left:t.previewX+20+"px",top:t.previewY+20+"px"},attrs:{src:t.previewsrc,alt:t.alt}}):t._e(),t.isPreviewBottom&&"left"===t.position?e("img",{staticClass:"lg-img-preview",style:{left:t.previewX+20+"px",bottom:"100px"},attrs:{src:t.previewsrc,alt:t.alt}}):t._e(),t.isPreview&&"right"===t.position?e("img",{staticClass:"lg-img-preview",style:{left:t.previewX-220+"px",top:t.previewY+20+"px"},attrs:{src:t.previewsrc,alt:t.alt}}):t._e(),t.isPreviewBottom&&"right"===t.position?e("img",{staticClass:"lg-img-preview",style:{left:t.previewX-220+"px",bottom:"100px"},attrs:{src:t.previewsrc,alt:t.alt}}):t._e(),t.showSize&&(t.isPreview||t.isPreviewBottom)&&t.imageSize?e("div",{staticClass:"lg-size-preview",style:{top:t.isPreview?t.previewY+20+"px":void 0,bottom:t.isPreviewBottom?"100px":void 0,left:t.previewX+20+(t.imageSize.width>400?400:t.imageSize.width)-110+"px"}},[e("span",[t._v(t._s(t.imageSize.width)+" * "+t._s(t.imageSize.height))])]):t._e(),t.isShow?e("el-dialog",{attrs:{title:"大图展示",visible:t.isShow,"append-to-body":t.isAppend},on:{"update:visible":function(e){t.isShow=e}}},[e("div",{staticClass:"lg-image-warp"},[e("img",{staticClass:"lg-image",attrs:{src:t.src,alt:t.alt}})])]):t._e()],1):t._e()},T=[],O={name:"PopImg",props:{width:{type:String,default:""},src:{type:String,default:""},bigsrc:{type:String,default:""},position:{type:String,default:"left"},alt:{type:String,default:""},isAppend:{type:Boolean,default:!1},showSize:{type:Boolean,default:!1}},data(){return{isShow:!1,isPreview:!1,isPreviewBottom:!1,previewX:0,previewY:0,imageSize:void 0}},computed:{previewsrc(){return this.bigsrc?this.bigsrc:this.src}},created(){this.showSize&&utils.getImageSize(this.src).then((t=>{const{width:e,height:i}=t;e&&i&&(this.imageSize={width:e,height:i})}))},methods:{startImgPreview(){this.isPreview=!0},stopImgPreview(){this.isPreview=!1,this.isPreviewBottom=!1},watchMouseLocation(t){t.clientY>600&&(this.isPreview=!1,this.isPreviewBottom=!0),this.previewX=t.clientX,this.previewY=t.clientY},pictureClick(){this.$emit("pictureClick")}}},I=O,z=(0,l.Z)(I,E,T,!1,null,"5a0fa7a7",null),L=z.exports;const A=(t,e,i)=>{const{value:s}=e,a=s&&s.bottomOffset||10;let n=window.innerHeight-t.getBoundingClientRect().top-a;t.style.height=n+"px",window.onload=()=>{n=window.innerHeight-t.getBoundingClientRect().top-a,t.style.height=n+"px"}};var H={components:{PopImg:L,imgEditor:P},directives:{"sm-table-height-adaptive":{bind(t,e,i){t.resizeListener=()=>{A(t,e,i)},window&&window.addEventListener("resize",t.resizeListener)},inserted(t,e,i){A(t,e,i)},unbind(t){window&&window.removeEventListener("resize",t.resizeListener)}}},data(){return{searchFrontValue:"",frontSelected:[],zhutiSelect:"",sucaiSelected:"",AmazonStoreOptions:[],moreLoading:!1,finishSelectedList:[],loading:!1,selectedList:[],spuInfo:[],store:"",spuValue:"",spuOptions:[],color2:"",pictureData:[],finishedPictureData:[],searchValue:"",selectType:"图库",frontBackgroundColor:"",value:"",options:[],currentPage:1,pictureIndex:1,picture_pageTotal:0,mainImgUrl:void 0,backImgUrl:void 0,frontImgUrl:void 0,frontPictureData:[],moreFrontLoading:!1,frontLoading:!1,frontPicture_pageTotal:0,texturePictureData:[],purePictureData:[],fontForm:{fontFamily:"Georgia, serif",backgroundColor:"rgba(255, 255, 255, 1)",fontSize:48,fill:"rgba(0, 0, 0, 1)",fontWeight:"normal",fontStyle:"normal",underline:!1,textAlign:"left",padding:0},fontValue:"",browserSecurityFonts:["Georgia, serif",'"Palatino Linotype", "Book Antiqua", Palatino, serif','"Times New Roman", Times, serif',"Arial, Helvetica, sans-serif","Arial Black, Gadget, sans-serif",'"Comic Sans MS", cursive, sans-serif',"Impact, Charcoal, sans-serif",'"Lucida Sans Unicode", "Lucida Grande", sans-serif',"Tahoma, Geneva, sans-serif",'"Trebuchet MS", Helvetica, sans-serif',"Verdana, Geneva, sans-serif",'"Courier New", Courier, monospace','"Lucida Console", Monaco, monospace'],gradientForm:{gType:"linear",colorStops:[{offset:0,color:"rgba(255, 0, 0, 1)"},{offset:1,color:"rgba(255, 200, 0, 1)"}]},uploadFileList:[],pageLoading:!1}},watch:{selectType(t){"图库"===t?this.searchPicture():"前景"===t?this.searchFrontPicture():"纯色"===t&&this.getPureAndTexturePicture()}},created(){this.searchPicture(),this.getSPUInfo()},methods:{getAmazonStoreOptions(){amazon_store_list().then((t=>{0===t.data.code&&t.data.data&&(this.AmazonStoreOptions=t.data.data.detail_list.filter((t=>"Amazon"===t.channel)))}))},getMorePicture(){if(this.pictureIndex>=this.picture_pageTotal)return!1;this.moreLoading=!0,this.pictureIndex++;const t={q:this.searchValue,per_page:30,page:this.pictureIndex};http.searchPicture(t).then((t=>{if(!t.data.code){this.moreLoading=!1;let e=[];t.data.data.hits.forEach((t=>{t.number=Math.floor(98*Math.random()+1)})),e=t.data.data.hits,e.map((t=>{this.pictureData.push(t)})),this.$forceUpdate()}}))},applicationAll(){this.$message.success("应用成功!")},resultSrc(t){this.finishedPictureData.push(t)},deleteImg(t,e){},canvasEmptying(){},dataSelect(t){this.selectedList.includes(t)?this.selectedList=this.selectedList.filter((e=>e!==t)):this.selectedList.push(t)},getAllSPU(){http.getAllSPU().then((t=>{const e=["PBY_0WP1","PBY_0XOQ","PEL_0MH5","PHO_0QZA","PHO_0S1T","PHO_0S7N","PHO_0VGG","PHO_0VGL","PHO_0W5A","PHO_0WIT","PTO_0XLB","PTO_0XLV","PTO_0XR1"];t.data.code||(this.spuOptions=t.data.data.filter((t=>e.includes(t))))}))},searchPicture(){this.pictureData=[],this.moreLoading=!1;this.searchValue;this.loading=!0,this.loading=!1,this.pictureData=["https://i.picsum.photos/id/478/600/600.jpg?hmac=tdRlaa_HRHFvXylFO_fHPi6tXYYu2VlZYwSuaMP9y6g","https://i.picsum.photos/id/965/500/500.jpg?hmac=QlO9aaB0EHb_bqALdmPcuTRSyUW5pz1qPoMcxtfy6wI","https://i.picsum.photos/id/774/500/500.jpg?hmac=E0lO7phH91QDC-xgCT0v4XuybbExyZsZ-f99GDS21tA","https://i.picsum.photos/id/520/500/500.jpg?hmac=op9ciWPrrsID7_KwoFIOM1PfnBLFmpnZVdXDSfyEqio","https://i.picsum.photos/id/732/500/500.jpg?hmac=faRbsgyl_RyPtgF3u3Qq7W-nttBK__vvJv3ZQm6J37M","https://i.picsum.photos/id/175/500/500.jpg?hmac=qefEKo1f_m-Dn5P7Pbj4ZyPVF9qHraqYbESqamlXVKI","https://i.picsum.photos/id/16/500/500.jpg?hmac=qVwF97sLIdfFuLrJZBoJNReTGdAJZH04orXKbFZduIY","https://i.picsum.photos/id/58/500/500.jpg?hmac=j88lVahWj234nV_rElxNCtdyCdhYvPI944K-rFw6_Mg"]},searchFrontPicture(){this.frontPictureData=[],this.moreFrontLoading=!1;this.searchFrontValue;this.frontLoading=!0,this.frontLoading=!1,this.frontPictureData=["https://i.picsum.photos/id/478/600/600.jpg?hmac=tdRlaa_HRHFvXylFO_fHPi6tXYYu2VlZYwSuaMP9y6g","https://i.picsum.photos/id/965/500/500.jpg?hmac=QlO9aaB0EHb_bqALdmPcuTRSyUW5pz1qPoMcxtfy6wI","https://i.picsum.photos/id/774/500/500.jpg?hmac=E0lO7phH91QDC-xgCT0v4XuybbExyZsZ-f99GDS21tA","https://i.picsum.photos/id/520/500/500.jpg?hmac=op9ciWPrrsID7_KwoFIOM1PfnBLFmpnZVdXDSfyEqio","https://i.picsum.photos/id/732/500/500.jpg?hmac=faRbsgyl_RyPtgF3u3Qq7W-nttBK__vvJv3ZQm6J37M","https://i.picsum.photos/id/175/500/500.jpg?hmac=qefEKo1f_m-Dn5P7Pbj4ZyPVF9qHraqYbESqamlXVKI","https://i.picsum.photos/id/16/500/500.jpg?hmac=qVwF97sLIdfFuLrJZBoJNReTGdAJZH04orXKbFZduIY","https://i.picsum.photos/id/58/500/500.jpg?hmac=j88lVahWj234nV_rElxNCtdyCdhYvPI944K-rFw6_Mg"]},getPureAndTexturePicture(){this.moreFrontLoading=!1,this.frontLoading=!0,this.frontLoading=!1,this.texturePictureData=["https://i.picsum.photos/id/478/600/600.jpg?hmac=tdRlaa_HRHFvXylFO_fHPi6tXYYu2VlZYwSuaMP9y6g","https://i.picsum.photos/id/965/500/500.jpg?hmac=QlO9aaB0EHb_bqALdmPcuTRSyUW5pz1qPoMcxtfy6wI","https://i.picsum.photos/id/774/500/500.jpg?hmac=E0lO7phH91QDC-xgCT0v4XuybbExyZsZ-f99GDS21tA","https://i.picsum.photos/id/520/500/500.jpg?hmac=op9ciWPrrsID7_KwoFIOM1PfnBLFmpnZVdXDSfyEqio","https://i.picsum.photos/id/732/500/500.jpg?hmac=faRbsgyl_RyPtgF3u3Qq7W-nttBK__vvJv3ZQm6J37M","https://i.picsum.photos/id/175/500/500.jpg?hmac=qefEKo1f_m-Dn5P7Pbj4ZyPVF9qHraqYbESqamlXVKI","https://i.picsum.photos/id/16/500/500.jpg?hmac=qVwF97sLIdfFuLrJZBoJNReTGdAJZH04orXKbFZduIY","https://i.picsum.photos/id/58/500/500.jpg?hmac=j88lVahWj234nV_rElxNCtdyCdhYvPI944K-rFw6_Mg"],this.frontLoading=!1,this.purePictureData=["https://i.picsum.photos/id/478/600/600.jpg?hmac=tdRlaa_HRHFvXylFO_fHPi6tXYYu2VlZYwSuaMP9y6g","https://i.picsum.photos/id/965/500/500.jpg?hmac=QlO9aaB0EHb_bqALdmPcuTRSyUW5pz1qPoMcxtfy6wI","https://i.picsum.photos/id/774/500/500.jpg?hmac=E0lO7phH91QDC-xgCT0v4XuybbExyZsZ-f99GDS21tA","https://i.picsum.photos/id/520/500/500.jpg?hmac=op9ciWPrrsID7_KwoFIOM1PfnBLFmpnZVdXDSfyEqio","https://i.picsum.photos/id/732/500/500.jpg?hmac=faRbsgyl_RyPtgF3u3Qq7W-nttBK__vvJv3ZQm6J37M","https://i.picsum.photos/id/175/500/500.jpg?hmac=qefEKo1f_m-Dn5P7Pbj4ZyPVF9qHraqYbESqamlXVKI","https://i.picsum.photos/id/16/500/500.jpg?hmac=qVwF97sLIdfFuLrJZBoJNReTGdAJZH04orXKbFZduIY","https://i.picsum.photos/id/58/500/500.jpg?hmac=j88lVahWj234nV_rElxNCtdyCdhYvPI944K-rFw6_Mg"]},getSPUInfo(){this.spuValue;this.spuInfo={spu_id:731218,main_image:"https://starmerx.oss-cn-shanghai.aliyuncs.com/215531650878569.jpg",title:"",zhutis:["http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_facede6183c1c75a.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_b542a3390ef83afd.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_6a786a093f55b72c.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_43a9793acfa997a4.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_b96829974c1c5982.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_ef3bfb632afa275b.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_8a2689e005b53315.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_231dc2437f641c20.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_0f092b8553c7ea94.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_ea538a91d2b9e097.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_37be2c159b8cea3e.jpg"],spu:"PTO_0XR1",zhuti:["http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_facede6183c1c75a.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_b542a3390ef83afd.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_6a786a093f55b72c.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_43a9793acfa997a4.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_b96829974c1c5982.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_ef3bfb632afa275b.jpg","http://starmerx.oss-cn-shanghai.aliyuncs.com/PTO_0XR1_zhuti_8a2689e005b53315.jpg"],changjing:["https://starmerx.oss-cn-shanghai.aliyuncs.com/PEL_0MH5_changjing_1.jpg","https://starmerx.oss-cn-shanghai.aliyuncs.com/PEL_0MH5_changjing_2.jpg","https://starmerx.oss-cn-shanghai.aliyuncs.com/PEL_0MH5_changjing_3.jpg","https://starmerx.oss-cn-shanghai.aliyuncs.com/PEL_0MH5_changjing_4.jpg","https://starmerx.oss-cn-shanghai.aliyuncs.com/PEL_0MH5_changjing_5.jpg"],skuinfos:[{sku:"PTO_0XR1LIA3",spu_id:731218,main_image:"https://starmerx.oss-cn-shanghai.aliyuncs.com/1660787140901.jpg",spu:"PTO_0XR1",sku_id:1847764,cn_attr_str:"青色+橙色"}],chinese_title:"2pcs 电动感应避障螃蟹充电版 青色+橙色  "},this.selectedList=[]},frontPictureClick(t){console.log("item: ",t),this.frontImgUrl===t?this.$refs.imgEditor.addFrontImg():this.frontImgUrl=t},pictureClick(t){this.sucaiSelected=t,this.backImgUrl===t?this.$refs.imgEditor.addBackImg():this.backImgUrl=t},purePictureClick(t){this.backImgUrl===t?this.$refs.imgEditor.addBackImg():this.backImgUrl=t},finishPictureClick(t){this.finishSelectedList.includes(t)?this.finishSelectedList=this.finishSelectedList.filter((e=>e!==t)):this.finishSelectedList.push(t)},pictureClick_zhuti(t){this.zhutiSelect=t,this.mainImgUrl===t?this.$refs.imgEditor.addMainImage():this.mainImgUrl=t},downAll(){this.finishedPictureData.forEach(((t,e)=>{this.downloadFile(t,"成品图"+(e+1))}))},downloadFile(t,e){var i=function(t){const e=t.split(";base64,"),i=e[0].split(":")[1],s=window.atob(e[1]),a=s.length,n=new Uint8Array(a);for(let r=0;r<a;++r)n[r]=s.charCodeAt(r);return new Blob([n],{type:i})};const s=document.createElement("a"),a=i(t),n=document.createEvent("HTMLEvents");n.initEvent("click",!0,!0),s.download=e,s.href=URL.createObjectURL(a),s.click()},addFont(){this.fontValue?this.$refs.imgEditor.addFont(this.fontValue,this.fontForm):this.$message.warning("请先输入文字")},boldFont(){this.fontForm.fontWeight="bold"===this.fontForm.fontWeight?"normal":"bold"},italicFont(){this.fontForm.fontStyle="italic"===this.fontForm.fontStyle?"normal":"italic"},activeFontChange(t){const{text:e,fontFamily:i,fontSize:s,fill:a,fontWeight:n,fontStyle:r,underline:o,textAlign:l,backgroundColor:c,padding:d}=t;this.fontValue=e,this.fontForm={fontFamily:i,fontSize:s,fill:a,fontWeight:n,fontStyle:r,underline:o,textAlign:l,backgroundColor:c,padding:d}},beforeAvatarUpload(t){const e=b.getRandomFileName(t.name),i=new File([t],e);console.log("newfile: ",i);const s=this,a=new FileReader;return a.readAsDataURL(i),this.pageLoading=!0,a.onload=function(t){s.pageLoading=!1,s.uploadFileList.unshift(a.result)},!1},replaceBackImg(t){this.backImgUrl===t.url?this.$refs.imgEditor.addBackImg():this.backImgUrl=t.url},addGradient(){this.$refs.imgEditor.addGradient()},overrideGradient(t){this.gradientForm=t}}},M=H,B=(0,l.Z)(M,m,g,!1,null,"1397b492",null),R=B.exports;s["default"].use(p.ZP);const X=[{path:"/",name:"home",component:R},{path:"/about",name:"about",component:()=>i.e(443).then(i.bind(i,5399))}],U=new p.ZP({base:"",routes:X});var D=U,Z=i(3822);s["default"].use(Z.ZP);var V=new Z.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});s["default"].config.productionTip=!1,s["default"].use(n(),{size:"small"}),new s["default"]({router:D,store:V,render:t=>t(h)}).$mount("#app")},9187:function(t,e,i){"use strict";t.exports=i.p+"img/alignCenter.b5902a8e.svg"},7686:function(t,e,i){"use strict";t.exports=i.p+"img/alignCenterSelected.5f305947.svg"},505:function(t,e,i){"use strict";t.exports=i.p+"img/alignLeft.5a71e1a5.svg"},9862:function(t,e,i){"use strict";t.exports=i.p+"img/alignLeftSelected.5afb0a51.svg"},9973:function(t,e,i){"use strict";t.exports=i.p+"img/alignRight.b78f7747.svg"},5337:function(t,e,i){"use strict";t.exports=i.p+"img/alignRightSelected.acd4758e.svg"},1136:function(t,e,i){"use strict";t.exports=i.p+"img/icon-fontTilt.0fc2bcea.svg"},9770:function(t,e,i){"use strict";t.exports=i.p+"img/icon-fontUnderline.61ce7db2.svg"},6619:function(t,e,i){"use strict";t.exports=i.p+"img/icon-fontWeight.ffb34cc6.svg"},2208:function(t,e,i){"use strict";t.exports=i.p+"img/u17.68a5bb3a.svg"},4960:function(){},6759:function(){},6272:function(){}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=t,function(){var t=[];i.O=function(e,s,a,n){if(!s){var r=1/0;for(d=0;d<t.length;d++){s=t[d][0],a=t[d][1],n=t[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[l])}))?s.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[s,a,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,s){return i.f[s](t,e),e}),[]))}}(),function(){i.u=function(t){return"js/about.a69a05b8.js"}}(),function(){i.miniCssF=function(t){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="my-project:";i.l=function(s,a,n,r){if(t[s])t[s].push(a);else{var o,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var h=c[d];if(h.getAttribute("src")==s||h.getAttribute("data-webpack")==e+n){o=h;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",e+n),o.src=s),t[s]=[a];var p=function(e,i){o.onerror=o.onload=null,clearTimeout(m);var a=t[s];if(delete t[s],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((function(t){return t(i)})),e)return e(i)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){i.p=""}(),function(){var t={143:0};i.f.j=function(e,s){var a=i.o(t,e)?t[e]:void 0;if(0!==a)if(a)s.push(a[2]);else{var n=new Promise((function(i,s){a=t[e]=[i,s]}));s.push(a[2]=n);var r=i.p+i.u(e),o=new Error,l=function(s){if(i.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var n=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",o.name="ChunkLoadError",o.type=n,o.request=r,a[1](o)}};i.l(r,l,"chunk-"+e,e)}},i.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,r=s[0],o=s[1],l=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)var d=l(i)}for(e&&e(s);c<r.length;c++)n=r[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(d)},s=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(7799)}));s=i.O(s)})();
//# sourceMappingURL=app.f4aad226.js.map